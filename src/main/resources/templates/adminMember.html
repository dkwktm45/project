<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>admin_member</title>
  <link rel="stylesheet" href="/css/adminMember.css">
  <link rel="stylesheet" th:href="@{/css/side/modal.css}">
  <link rel="stylesheet" href="/css/bootstrap.css">

  <script>
    window.onload = function() {

      function show1 () {
        document.querySelector(".black_bg").className = "black_bg show1";
      }
      function close1 () {
        document.querySelector(".black_bg").className = "black_bg";
      }

      document.querySelector("#modal_btn").addEventListener("click", show1);
      document.querySelector(".black_bg").addEventListener("click", close1);

      var onClick11 = function onClick1() {
        document.querySelector('.user_wrap').style.display ='block';
        document.querySelector('.user_bg').style.display ='block';
      };
      function offClick1() {
        document.querySelector('.user_wrap').style.display ='none';
        document.querySelector('.user_bg').style.display ='none';
      }

      var className = document.getElementsByClassName('user_yess');
      for(var i = 0; i<className.length;i++){
        className[i].addEventListener('click', onClick11, false);
      }

      document.querySelector('.user_bg').addEventListener('click', offClick1);

    }


    function insertMonth(month){
      location.href =  "/web/extensionMember.do?user_id="+user_id+"&month="+month;

    }

    function gomember(){
      location.href =  "/web/admin_member.do";
    }

    function gojoin(){
      location.href =  "/web/join.do";
    }

    function gorecord(){
      location.href =  "/web/admin.do";
    }
  </script>
</head>
<body>


<div class="main_map">
  <th:block th:replace="sidebar/modal :: sideModal">
    <th:block layout:fragment="css"></th:block>
    <th:block layout:fragment="script"></th:block>
  </th:block>
  <div class="main_top" style = "text-align : center;">
    <div class="top_left">
      <h1 style = "font-size:80px;">The Ai Fitness</h1>
    </div>
    <div class="top_right">

      <img id="modal_btn" src="resources/img/menu.png"
           style="width: 120px; height: 120px;">
    </div>
  </div>

  <div class="main_mid" style = "text-align : center;">
    <div class="mid_text">
      <input onkeyup="filter()" type="text" id="value"
             placeholder="회원 이름 검색">
    </div>
  </div>

  <div class="main_bot">
    <div class="bot_view"  id="NSK_font">
      <div class="bot_userlib1"></div>
      <div th:each="user , i : ${session.userList}" >
        <div id="bot_user" class="item">
          <div class="bot_user_left"><b id="user_b"><span class="name" th:text="${user.getUserName()}"></span> 기한 : [[${user.getUserExpireDate()}]]</b></div>
          <div class="bot_user_right">
            <input type="button" id="user_yes${i}" class="user_yess" value="연장" onClick="get_user_id('${vo.user_id }')">
            <input type="button" class="user_no" value="해지" >
          </div>
        </div>
      </div>
      <div class="bot_userlib2"></div>
    </div>
  </div>
</div>
<script th:src="@{/js/side/modal.js}"></script>
<script src="/js/bootstrap.js"></script>
<script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
<script type="text/javascript">
  function filter(){

    var value, name, item, i;

    value = document.getElementById("value").value.toUpperCase();
    item = document.getElementsByClassName("item");

    for(i=0;i<item.length;i++){
      name = item[i].getElementsByClassName("name");
      if(name[0].innerHTML.toUpperCase().indexOf(value) > -1){
        item[i].style.display = "flex";
      }else{
        item[i].style.display = "none";
      }
    }
  }
</script>
</body>
</html>