<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>admin_member</title>
  <link rel="stylesheet" href="/css/admin_member.css">
  <script>
    window.onload = function() {

      function show1 () {
        document.querySelector(".black_bg").className = "black_bg show1";
      }
      function close1 () {
        document.querySelector(".black_bg").className = "black_bg";
      }

      document.querySelector("#modal_btn").addEventListener("click", show1);
      document.querySelector(".black_bg").addEventListener("click", close1);

      var onClick11 = function onClick1() {
        document.querySelector('.user_wrap').style.display ='block';
        document.querySelector('.user_bg').style.display ='block';
      };
      function offClick1() {
        document.querySelector('.user_wrap').style.display ='none';
        document.querySelector('.user_bg').style.display ='none';
      }

      var className = document.getElementsByClassName('user_yess');
      for(var i = 0; i<className.length;i++){
        className[i].addEventListener('click', onClick11, false);
      }

      // document.getElementById('user_yes1').addEventListener('click', onClick1);
      // document.getElementById('user_yes2').addEventListener('click', onClick1);
      // document.getElementById('user_yes3').addEventListener('click', onClick1);
      // document.getElementById('user_yes4').addEventListener('click', onClick1);


      document.querySelector('.user_bg').addEventListener('click', offClick1);

    }

    //var user_id;
    //function get_user_id(id){
    //	user_id = id;
    //	console.log(user_id);
    //	return user_id
    //}

    function insertMonth(month){
      location.href =  "/web/extensionMember.do?user_id="+user_id+"&month="+month;

    }

    function gomember(){
      location.href =  "/web/admin_member.do";
    }

    function gojoin(){
      location.href =  "/web/join.do";
    }

    function gorecord(){
      location.href =  "/web/admin.do";
    }
  </script>
</head>
<body>

<div class="black_bg">
  <div class="modal_wrap">
    <div class="modal_main">
      <div class = "modal_top">
        <div id="NSK_font" style = "font-size:80px;"><b><br>관리자 님</b></div>
        <div class = "modal_top_left">
          <div id="NSK_font"><br></div>
        </div>
        <div class = "modal_top_right">
          <div id="NSK_font"><br><br></div>
        </div>
      </div>
      <div class = "modal_mid">
        <div class = "modal_mid_mid">
          <div class = "modal_mid_left"><img id="moicon" src="resources/img/diary.png" onclick = "gomember()"></div>
          <div class = "modal_mid_right"><b id = "modal_mid_b" onclick = "gomember()">회원 관리</b></div>
        </div>
        <div class = "modal_mid_mid">
          <div class = "modal_mid_left"><img id="moicon" src="resources/img/dumbbell.png" onclick = "gojoin()"></div>
          <div class = "modal_mid_right"><b id = "modal_mid_b" onclick = "gojoin()">회원 가입</b></div>
        </div>
        <div class = "modal_mid_mid">
          <div class = "modal_mid_left"><img id="moicon" src="resources/img/training.png" onclick = "gorecord()"></div>
          <div class = "modal_mid_right"><b id = "modal_mid_b" onclick = "gorecord()">회원 영상</b></div>
        </div>
      </div>
      <div class = "modal_bot">
        <div>고객센터     010-4903-4073</div>
      </div>
    </div>
  </div>
</div>
<div class="user_bg"></div>
<div class="user_wrap">
  <div class = "user_top">
    <form action="admin_member" method="post" name="changeMonth">
      <div><input type="button" class="user_button" value="1개월" onclick = "insertMonth('1')" ></div>
      <div><input type="button" class="user_button" value="3개월" onclick = "insertMonth('3')"></div>
      <div><input type="button" class="user_button" value="6개월" onclick = "insertMonth('6')"></div>
      <div><input type="button" class="user_button" value="12개월" onclick = "insertMonth('12')"></div>
    </form>
  </div>
</div>

<div class="main_map">

  <div class="main_top" style = "text-align : center;">
    <div class="top_left">
      <h1 style = "font-size:80px;">The Ai Fitness</h1>
    </div>
    <div class="top_right">

      <img id="modal_btn" src="resources/img/menu.png"
           style="width: 120px; height: 120px;">
    </div>
  </div>

  <div class="main_mid" style = "text-align : center;">
    <div class="mid_text">
      <input onkeyup="filter()" type="text" id="value"
             placeholder="회원 이름 검색">
    </div>
  </div>

  <div class="main_bot">
    <div class="bot_view"  id="NSK_font">
      <div class="bot_userlib1"></div>

      <c:forEach var= 'vo' items = "${member}">
        <c:set var="i" value="${i+1}"/>
        <div id="bot_user" class="item">
          <div class="bot_user_left"><b id="user_b"><span class="name">${vo.user_name}</span> 기한 :${vo.user_expire_date }</b></div>
          <div class="bot_user_right">
            <input type="button" id="user_yes${i}" class="user_yess" value="연장" onClick="get_user_id('${vo.user_id }')">
            <input type="button" class="user_no" value="해지" >
          </div>
        </div>
      </c:forEach>
      <div class="bot_userlib2"></div>
    </div>
  </div>
</div>

<script type="text/javascript">
  function filter(){

    var value, name, item, i;

    value = document.getElementById("value").value.toUpperCase();
    item = document.getElementsByClassName("item");

    for(i=0;i<item.length;i++){
      name = item[i].getElementsByClassName("name");
      if(name[0].innerHTML.toUpperCase().indexOf(value) > -1){
        item[i].style.display = "flex";
      }else{
        item[i].style.display = "none";
      }
    }
  }
</script>
</body>
</html>